<!--
  Generated template for the CoalPriceManage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>产品价格管理</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-list style="padding-top: 20px;">

    <ion-item>
      <ion-label fixed>厂矿名称：</ion-label>
      <ion-input type="text" [(ngModel)]="productPrice.factory.name" placeholder="请输入煤炭名称" readonly></ion-input>
    </ion-item>

    <ion-item *ngIf="productPrice.productType.name">
      <ion-label fixed>产品种类：</ion-label>
      <ion-input type="text" [(ngModel)]="productPrice.productType.name" placeholder="请输入煤种" readonly></ion-input>
    </ion-item>

    <ion-item *ngIf="!productPrice.productType.name">>
      <ion-label>产品种类：</ion-label>
      <ion-select [(ngModel)]="productPrice.productType.id" interface="popover">
        <ion-option value="{{productType.id}}" *ngFor="let productType of productTypeList">{{productType.name}}</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>价格类型：</ion-label>
      <ion-select [(ngModel)]="productPrice.priceType" interface="popover">
        <ion-option value="1">一票制</ion-option>
        <ion-option value="2">两票制</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>是否停产：</ion-label>
      <ion-select [(ngModel)]="productPrice.state" interface="popover">
        <ion-option value="1">否</ion-option>
        <ion-option value="0">是</ion-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label fixed>价格：</ion-label>
      <ion-input type="text" [(ngModel)]="productPrice.price" placeholder="请输入煤炭价格"></ion-input>
    </ion-item>

    <div *ngIf="productPrice.factory.factoryType==1">
      <ion-item>
        <ion-label fixed>发热量：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coal_fareliang" placeholder="请输入发热量"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>全水分：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coal_quanshuifen" placeholder="请输入全水分"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>硫份：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coal_liufen" placeholder="请输入硫份"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>挥发份：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coal_huifafen" placeholder="请输入挥发份"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>灰分：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coal_huifen" placeholder="请输入灰分"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>固定碳：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coal_gudingtan" placeholder="请输入固定碳"></ion-input>
      </ion-item>
    </div>

    <div *ngIf="productPrice.factory.factoryType==2">
      <ion-item>
        <ion-label fixed>含硫：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coke_hanliu" placeholder="请输入含硫"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>含碳：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coke_hantan" placeholder="请输入含碳"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>挥发份：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coke_huifafen" placeholder="请输入挥发份"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>灰分：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coke_huifen" placeholder="请输入灰分"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label fixed>水份：</ion-label>
        <ion-input type="text" [(ngModel)]="productPrice.coke_shuifen" placeholder="请输入水份"></ion-input>
      </ion-item>
    </div>

    <ion-item style="height: 200px;">
      <ion-label fixed>化验报告照片：</ion-label>
      <img item-start src="{{productPrice.report_pic}}" style="width: 150px;position: absolute;left: 130px;">
      <button ion-button outline item-end icon-left>
        选择图片
        <input class="input-img" #inputReportImg type="file" (change)="uploadImg($event, 'report_pic')" accept="image/*">
      </button>
    </ion-item>

    <ion-item style="height: 200px;">
      <ion-label fixed>产品照片：</ion-label>
      <img item-start src="{{productPrice.product_pic}}" style="width: 150px;position: absolute;left: 130px;">
      <button ion-button outline item-end icon-left>
        选择图片
        <input class="input-img" #inputProductImg type="file" (change)="uploadImg($event, 'product_pic')" accept="image/*">
      </button>
    </ion-item>

  </ion-list>

  <div padding>
    <button ion-button color="primary" block (click)="onSubmit()">提交</button>
  </div>

</ion-content>
