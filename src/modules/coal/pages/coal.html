<ion-header>

  <ion-navbar>
    <ion-title>煤价</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-toolbar no-border-top>
    <ion-searchbar color="primary"
                   [(ngModel)]="queryText"
                   (ionInput)="doQuery()"
                   placeholder="根据厂矿名称、产品种类查询">
    </ion-searchbar>
  </ion-toolbar>

  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-slides class="slide-title" class="slide-title" [slidesPerView]="pageNumber" [pager]="false">
    <ion-slide *ngFor="let slide of productTypeList; let i = pageIndex;">
      <div (click)="onSlideClick(slide.id)">
        <span class="slide-title-unit" [ngClass]="{'slide-title-active': productType == slide.id}">{{slide.name}}</span>
      </div>
    </ion-slide>
  </ion-slides>

  <ion-segment style="padding: 10px 16px;" [(ngModel)]="priceType" (ionChange)="changePriceType()" padding *ngIf="factoryType == 1">
    <ion-segment-button value="coal">
      矿方价
    </ion-segment-button>
    <ion-segment-button value="saler">
      代发价
    </ion-segment-button>
  </ion-segment>

  <div class="I_list">
    <ul>
      <li class="animated fadeInLeft" (click)="goProductPriceDetail(productPrice)" *ngFor="let productPrice of productPriceList">
        <a href="#">
          <p style="font-weight: bold;">{{productPrice.factory.name}}</p>
          <span class="color_green" style="top: 14px;">{{ productPrice.createdTime | moment: ['MM-DD HH:mm'] }}</span>
          <p [ngSwitch]="priceType">价格：
            <b class="color_y" *ngSwitchCase="'coal'">￥{{productPrice.price}}</b>
            <b class="color_y" *ngSwitchCase="'saler'">￥{{productPrice.price2}}</b>
          </p>
          <span  style="top: 36px;color: red;">涨10元</span>
          <p style="font-size: 10px;">挥:8.00% | 水:8.00% | 灰:8.00% | 硫:8.00% | 热:5300K/kg</p>
        </a>
      </li>
    </ul>
  </div>

  <ion-list-header [hidden]="productPriceList.length > 0">
    没有查询的数据
  </ion-list-header>

</ion-content>
